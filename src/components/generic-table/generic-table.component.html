<div class="table-container generic-container">
  <div class="table-content">
    <table>
      <tr>
        <th *ngFor="let header of headers">{{ header.label }}</th>
      </tr>
      <tr *ngFor="let item of getRows()">
        <td *ngFor="let header of headers">
          <ng-container *ngIf="header.key">
            <ng-container *ngIf="!header.type || header.type === 'text'">
              <span>{{ valueTransform(header, item?.[header.key]) }}</span>
            </ng-container>

            <ng-container *ngIf="header.type === 'imageUrl'">
              <app-avatar
                height="52px"
                [src]="valueTransform(header, item?.[header.key])"
              ></app-avatar>
            </ng-container>
          </ng-container>

          <ng-container *ngIf="!header.key">
            <ng-container *ngIf="header.type === 'dropdown'">
              <app-dropdown
                [options]="
                  setParametersToDropdownOptions(header.dropdownOptions, item)
                "
              ></app-dropdown>
            </ng-container>
          </ng-container>
        </td>
      </tr>
    </table>
  </div>

  <div class="table-footer">
    <div class="table-results-count">
      <p>{{ data.length }} Resultados</p>
    </div>

    <div class="table-results-pagination">
      <app-pagination
        [currentPage]="currentPage"
        [totalDataCount]="data.length"
        [perPageDataCount]="resultsPerPage"
        (pageChange)="pageChange($event)"
      ></app-pagination>
    </div>

    <div class="table-results-per-page" *ngIf="perPageOptions.length">
      <select [(ngModel)]="resultsPerPage" (ngModelChange)="setInitialPage()">
        <option *ngFor="let option of perPageOptions">{{ option }}</option>
      </select>
    </div>
  </div>
</div>
